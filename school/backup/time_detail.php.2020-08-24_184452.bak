<?php
//session start 
@ob_start();
if (session_status() == PHP_SESSION_NONE) {
    session_start();
}

//connection to database
include('user_connection.php');

//declaration global variable
$class_detail="";
$selection="";
$newdata="";

//identify type of time detail
if(isset($_POST['institute_time_detail']))
{
	  $type_name="Institute";
	/* Finding institute_time_detail table in database */
	$sql_query1="SELECT * FROM institute_time_detail";
	$result1=$conn->query($sql_query1);/* execution of query */
	if($result1 == "")
	{
		//not get institute_time_detail table in database
		$newdata="1";
		
		$button='
			<tr>
                <td><button type="submit" name="insert_institute_time_detail" id="insert_institute_time_detail">Insert</button></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>	
	';
	}
	else
	{
		//get institute_time_detail table in database
		$newdata="0";
		/* extractinng institute_time_detail table in database */
		$sql_query2="SELECT * FROM institute_time_detail";
		$result2=$conn->query($sql_query2);/* execution of query */
		$data2 = $result2->fetch_array();
		
		$button='
            <tr>    
                <td><button type="submit" name="update_institute_time_detail" id="update_institute_time_detail">Update</button></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
	';
	}
			
}

if(isset($_POST['teacher_time_detail']))
{
    $selection='
	  <table width="100%" border="0" cellspacing="0" cellpadding="5">
		  <form method="post" target="_self" action="time_detail.php" >
             <tr>
                <th scope="row" colspan="4">Select Teacher</th>
             </tr>
             <tr colspan="4">
                <th scope="row" >
                    <select name="select_teacher_name">
                     <option value="ns" >Not Selected</option>
                     <option value="het sheth" >het sheth</option>
					';
                        for($i=0;$i<1;$i++)
                        {
                            $selection.='
                                    <option value='.$i.'>'.$i.'</option>
                                    ';
                        }
     $selection.='
                    </select>
                </th>
				<td>
					<input type=submit class="check_teacher_name" id="check_teacher_name" value="Next">
				</td>
             </tr>
		  </form>
	  </table>	
            ';		
}

if(isset($_POST['select_teacher_name']))
{
	$teacher_name=$_POST['select_teacher_name'];	
    $type_name="Teacher";
	/* Finding institute_time_detail table in database */
	$sql_query1="SELECT * FROM ".$teacher_name."_time_detail";
	$result1=$conn->query($sql_query1);/* execution of query */
	if($result1 == "")
	{
		//not get institute_time_detail table in database
		$newdata="1";
		
		$button='
			<tr>
                <td><button type="submit" name="insert_teacher_time_detail" id="insert_teacher_time_detail">Insert</button></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>		
	';
	}
	else
	{
		//get institute_time_detail table in database
		$newdata="0";
		/* extractinng institute_time_detail table in database */
		$sql_query2="SELECT * FROM institute_time_detail";
		$result2=$conn->query($sql_query2);/* execution of query */
		$data2 = $result2->fetch_array();
		
		$button='
            <tr>    
                <td><button type="submit" name="update_teacher_time_detail" id="update_teacher_time_detail">Update</button></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
	';
	}
	
}

if(isset($_POST['class_time_detail']) || isset($_GET['class_time_detail']))
{
    $selection='
        <table width="100%" border="0" cellspacing="0" cellpadding="5">
            <tr>
                <th scope="col" colspan="2">Insert New Class Here</th>
            </tr>
            <tr> 
                <td >
                    <input type="text" name="class_name" id="class_name" placeholder="Class Name">
                </td>
                <td>
                    <input type="text" name="class_div" id="class_div" placeholder="Class Div">
                </td>
            </tr>
        </table>    
            ';
    $type_name="Class";
    $class_detail='
            <tr>
                <th scope="row" colspan="4">Student Detail</th>
            </tr>
            <tr>  
				<th scope="row" >how many Student are there in class ?</th>
				<td> <input type="number" name="student_count" id="student_count" min="1" max="100" ></td>
				<td> </td>
                <td> </td>
            </tr>
            <tr>  
				<th scope="row" >how many Batch are there in pratical ?</th>
				<td> <input type="number" name="batch_count" id="batch_count" min="1" max="10" ></td>
				<td> </td>
                <td> </td>
            </tr>
            ';
	$button='
			<tr>
                <td><button type="submit" name="insert_class_time_detail" id="insert_class_time_detail">Insert</button></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>	
            <tr>    
                <td><button type="submit" name="update_class_time_detail" id="update_class_time_detail">Update</button></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
	';		
}
?>

<!DOCTYPE html PUBLIC>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link type='text/css' rel="stylesheet" href="css/style.css">
<script type="text/javascript" src="javascript/jQuery 3.5.1.js"></script>
<title>Time Detail</title>
</head>
<body>
 <!-- section of techer/class -->
<?php 
  echo $selection;
if($newdata == "1")
{
echo '
<form method="post" target="_self" action="time_detail_back.php" >
    <table width="100%" border="1" cellspacing="1" cellpadding="1">
            <!-- time detail -->
            <tr>
                <th scope="row" colspan="4">'. $type_name.' Time Detail</th>
            </tr>
			<tr>
				<th scope="row">Start Time</th>
				<td>
                    <input type="number" name="institute_strat_hour" id="institute_strat_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="institute_strat_ minute" id="institute_strat_ minute" placeholder=" minute" min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="institute_start_amorpm">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
			<tr>
				<th scope="row">End Time</th>
				<td>
                    <input type="number" name="end_hour" id="end_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="end_ minute" id="end_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="institute_end_amorpm">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
            
            <!-- recess detail -->
            <tr> 
				<th scope="row" >how many recess will there on each day ?</th>
				<td><input type="radio" id="first_recess" name="recess_count" value="1" checked> 1</td> 
                <td><input type="radio" id="second_recess" name="recess_count" value="2"> 2</td> 
				<td> </td>						
            </tr> 
             
            <!-- recess 1 time detail -->
            <tr>
                <th scope="row" colspan="4">Recess Time Detail</th>
            </tr>
            <tr>
				<th scope="row">Start Time</th>
				<td>
                    <input type="number" name="first_recess_strat_hour" id="first_recess_strat_hour" placeholder="hour" min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="first_recess_strat_ minute" id="first_recess_strat_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="first_recess_start_amorpms">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
			<tr>
				<th scope="row">End Time</th>
				<td>
                    <input type="number" name="first_recess_end_hour" id="first_recess_end_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="first_recess_end_ minute" id="first_recess_end_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="first_recess_end_amorpms">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
            
             <!-- recess 2 time detail -->
            <tr>
                <th scope="row" colspan="4">Second Recess Time Detail</th>
            </tr>
            <tr>
				<th scope="row">Start Time</th>
				<td>
                    <input type="number" name="second_recess_strat_hour" id="second_recess_strat_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="second_recess_strat_ minute" id="second_recess_strat_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="second_recess_start_amorpms">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
			<tr>
				<th scope="row">End Time</th>
				<td>
                    <input type="number" name="second_recess_end_hour" id="second_recess_end_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="first_recess_end_ minute" id="second_recess_end_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="second_recess_end_amorpms">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
            
            <!-- student detail -->
             '.$class_detail.'
        
            <!-- lecture detail -->
            <tr>
                <th scope="row" colspan="4">Lecture Detail</th>
            </tr>
            <tr> 
				<th scope="row">how many period will there in a day ?</th>
				<td> <input type="number" name="daily_lecture_count" id="daily_lecture" placeholder="Daily Lecture Count" min="1" max="10" ></td>
				<td> </td>
				<td> </td>
            </tr> 
            <tr> 
				<th scope="row">Whether institute will remain close in weekdays(included saturday) ?</th>
				<td><input type="radio" id="closed_day_yes" name="holiday" value="1" checked> Yes</td> 
                <td><input type="radio" id="closed_day_no" name="holiday" value="0"> No</td> 
				<td> </td>
            </tr> 
            <tr> 
				<th scope="row" >on which day institute will remain close ?</th>
                <td> 
                    <select name="closed_day">
						<option value="ns">Not Selected</option>
                        <option value="mon">Monday</option>
                        <option value="tue">Tuesday</option>
                        <option value="wed">Wensday</option>
				        <option value="thurs">thursday</option>
                        <option value="fri">friday</option>
                        <option value="sat">saturday</option>
                    </select>
                </td>
				<td> </td>
				<td> </td>
            </tr> 
            <tr> 
				<th scope="row" >Whether institute having halfday ?</th>
				<td><input type="radio" id="halfday_yes" name="halfday" value="1" checked> Yes</td> 
                <td><input type="radio" id="halfday_no" name="halfday" value="0" > No</td> 
				<td> </td>
            </tr> 
            <tr> 
				<th scope="row" >on which day institute having halfday ?</th>
                <td> 
                    <select name="not_closed_day">
                        <option value="ns">Not Selected</option>
                        <option value="mon">Monday</option>
                        <option value="tue">Tuesday</option>
				        <option value="wed">Wensday</option>
				        <option value="thurs">thursday</option>
                        <option value="fri">friday</option>
                        <option value="sat">saturday</option>
                    </select>
                </td>
				<td> </td>
				<td> </td>
            </tr> 
            <tr>  
				<th scope="row" >how many lecture will there ?</th>
				<td colspan="1"> <input type="number" name="halfday_lecture_count" min="1" max="10" placeholder="Halfday Lecture Count"></td>
				<td> </td>
				<td> </td>
            </tr>	
            '.$button.'
		</table>	
</form>
  ';         
}
if($newdata == "0")
{
  echo '
<form method="post" target="_self" action="time_detail_back.php" >
   	
    <table width="100%" border="1" cellspacing="1" cellpadding="1">
            <!-- time detail -->
            <tr>
                <th scope="row" colspan="4">'. $type_name.' Time Detail</th>
            </tr>
			<tr>
				<th scope="row">Start Time</th>
				<td>
                    <input type="number" name="institute_strat_hour" id="institute_strat_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="institute_strat_ minute" id="institute_strat_ minute" placeholder=" minute" min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="institute_start_amorpm">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
			<tr>
				<th scope="row">End Time</th>
				<td>
                    <input type="number" name="end_hour" id="end_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="end_ minute" id="end_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="institute_end_amorpm">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
            
            <!-- recess detail -->
            <tr> 
				<th scope="row" >how many recess will there on each day ?</th>
				<td><input type="radio" id="first_recess" name="recess_count" value="1" checked> 1</td> 
                <td><input type="radio" id="second_recess" name="recess_count" value="2"> 2</td> 
				<td> </td>						
            </tr> 
             
            <!-- recess 1 time detail -->
            <tr>
                <th scope="row" colspan="4">Recess Time Detail</th>
            </tr>
            <tr>
				<th scope="row">Start Time</th>
				<td>
                    <input type="number" name="first_recess_strat_hour" id="first_recess_strat_hour" placeholder="hour" min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="first_recess_strat_ minute" id="first_recess_strat_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="first_recess_start_amorpms">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
			<tr>
				<th scope="row">End Time</th>
				<td>
                    <input type="number" name="first_recess_end_hour" id="first_recess_end_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="first_recess_end_ minute" id="first_recess_end_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="first_recess_end_amorpms">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
            
             <!-- recess 2 time detail -->
            <tr>
                <th scope="row" colspan="4">Second Recess Time Detail</th>
            </tr>
            <tr>
				<th scope="row">Start Time</th>
				<td>
                    <input type="number" name="second_recess_strat_hour" id="second_recess_strat_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="second_recess_strat_ minute" id="second_recess_strat_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="second_recess_start_amorpms">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
			<tr>
				<th scope="row">End Time</th>
				<td>
                    <input type="number" name="second_recess_end_hour" id="second_recess_end_hour" placeholder="hour"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <input type="number" name="first_recess_end_ minute" id="second_recess_end_ minute" placeholder=" minute"  min="1" max="24" autofocus  >
				</td>
				<td>
                    <select name="second_recess_end_amorpms">
                        <option value="Ns" >Not selected</option>
                        <option value="Am" >Am</option>
                        <option value="Pm">Pm</option>
                    </select>
                </td>
			</tr>
            
            <!-- student detail -->
             '.$class_detail.'
        
            <!-- lecture detail -->
            <tr>
                <th scope="row" colspan="4">Lecture Detail</th>
            </tr>
            <tr> 
				<th scope="row">how many period will there in a day ?</th>
				<td> <input type="number" name="daily_lecture_count" id="daily_lecture" placeholder="Daily Lecture Count" min="1" max="10" ></td>
				<td> </td>
				<td> </td>
            </tr> 
            <tr> 
				<th scope="row">Whether institute will remain close in weekdays(included saturday) ?</th>
				<td><input type="radio" id="closed_day_yes" name="holiday" value="1" checked> Yes</td> 
                <td><input type="radio" id="closed_day_no" name="holiday" value="0"> No</td> 
				<td> </td>
            </tr> 
            <tr> 
				<th scope="row" >on which day institute will remain close ?</th>
                <td> 
                    <select name="closed_day">
						<option value="ns">Not Selected</option>
                        <option value="mon">Monday</option>
                        <option value="tue">Tuesday</option>
                        <option value="wed">Wensday</option>
				        <option value="thurs">thursday</option>
                        <option value="fri">friday</option>
                        <option value="sat">saturday</option>
                    </select>
                </td>
				<td> </td>
				<td> </td>
            </tr> 
            <tr> 
				<th scope="row" >Whether institute having halfday ?</th>
				<td><input type="radio" id="halfday_yes" name="halfday" value="1" checked> Yes</td> 
                <td><input type="radio" id="halfday_no" name="halfday" value="0" > No</td> 
				<td> </td>
            </tr> 
            <tr> 
				<th scope="row" >on which day institute having halfday ?</th>
                <td> 
                    <select name="not_closed_day">
                        <option value="ns">Not Selected</option>
                        <option value="mon">Monday</option>
                        <option value="tue">Tuesday</option>
				        <option value="wed">Wensday</option>
				        <option value="thurs">thursday</option>
                        <option value="fri">friday</option>
                        <option value="sat">saturday</option>
                    </select>
                </td>
				<td> </td>
				<td> </td>
            </tr> 
            <tr>  
				<th scope="row" >how many lecture will there ?</th>
				<td colspan="1"> <input type="number" name="halfday_lecture_count" min="1" max="10" placeholder="Halfday Lecture Count"></td>
				<td> </td>
				<td> </td>
            </tr>	
            '.$button.'
		</table>	
</form>
  ';  
}  
?>
</body>  
</html>